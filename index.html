<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>OpenLayers Feature Frenzy</title>

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.min.css">
    <link rel="stylesheet" href="theme/show.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="bower_components/reveal.js/lib/css/zenburn.css">

    <!--[if lt IE 9]>
    <script src="bower_components/reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
    <style>
      .reveal h1.beefy {
        font-weight: bold;
        text-transform: uppercase;
        text-shadow: 10px 10px 6px rgba(0, 0, 0, 0.2);
      }
      .reveal ul.plain {
        list-style-type: none;
      }
      .reveal h2 > img {
        vertical-align: sub;
      }
      .reveal pre {
        font-size: 0.85em;
      }
      .reveal section img.boundless {
        margin-bottom: -4em;
        width: 30%;
      }
      .reveal section img.inline-icon {
        margin: 0 0 -10px 0;
        vertical-align: text-bottom;
      }
      .reveal a.squinty {
        font-size: 80%;
      }
      .smaller {
        font-size: smaller !important;
      }
      .reveal p {
        margin: 1em;
      }
    </style>
  </head>
  <body>

    <div class="reveal">
      <div class="slides">
        <section data-background="#FDCC32">
          <h1 class="beefy">OpenLayers</h1>
          <h3>Feature Frenzy</h3>
        </section>
        <section>
          <h3>tim@planet.com</h3>
          <h3>ahocevar@boundlessgeo.com</h3>
          <h3>eric.lemoine@camptocamp.com</h3>
        </section>
        <section>
          <p>
            <img height=833 src="img/ol-logo.png">
          </p>
        </section>
        <section>
          <!-- [PRESENTER NAME] -->
          <h2>[SLIDE TITLE]</h2>
          <pre><code class="javascript" data-trim>
// code block
var foo = 'bar';
          </code></pre>
          <pre class="fragment fade-in"><code class="javascript" data-trim>
// a second code block
alert(foo);
          </code></pre>
          <a href="./examples/example.html">
            [LINK TO EXAMPLE]
          </a>
          <!--
            [PRESENTER NOTES]
          -->
        </section>
        <section>
          <!-- [PRESENTER NAME] -->
          <h2>[Feature List]</h2>
          <ul>
            <li><code>ol.Feature</code></li>
            <li>[another feature]</li>
            <li>[another feature]</li>
          </ul>
          <br><br>
          <p>
            <a href="./examples/features-galore.html">
              [LINK TO EXAMPLE]
            </a>
          </p>
          <!--
            [PRESENTER NOTES]
          -->
        </section>
        <section>
          <!-- Tim -->
          <h2>Tile Sources</h2>
          <pre><code class="javascript" data-trim>
var map = new ol.Map({layers: [
  new ol.layer.Tile({
    source: new ol.source.OSM()
  })
]});
          </code></pre>
          <div class="fragment fade-in">
            <p>
              Render tiles using XYZ, TileJSON, WMTS, MapQuest, Bing Maps, ArcGIS (new in 3.3), and more.
            </p>
            <p>
              Support for non-square tiles (3.5).  Monitor tile load events (3.3).  Use a prioritized tile queue, configure tile loading priority.
            </p>
            <p>
              <a class="squinty" href="./examples/tiles-galore.html">tiles galore</a>
            </p>
          </div>
          <!--
            [PRESENTER NOTES]
          -->
        </section>
        <section>
          <!-- Andreas -->
          <h2>Vector formats</h2>
          <ul>
            <li class="fragment fade-in">KML, GeoJSON, TopoJSON, WKT, GPX<br>
              GML 2 &amp; 3, WFS 1.1, OSMXML, ICG, Polyline<br>
              <b>New</b>: EsriJSON (3.5)</li>
            <li class="fragment fade-in">Transform while parsing</li>
          </ul>
          <br><br>
          <pre class="fragment fade-in"><code class="javascript" data-trim>
new ol.source.Vector({
  format: new ol.format.GeoJSON(),
  url: 'http://example.net/my.geojson'
});
          </code></pre>

          <!--
            Popular formats like KML or GeoJSON
            Less frequently used formats like GML or OSMXML
            New EsriJSON format

            Features are transformed to the view projection while parsing

            Either create source with url, or define a loader using tile or bbox
            strategies.
          -->
        </section>

        <section>
          <!-- Andreas -->
          <h2>Vector rendering</h2>
          <ul>
            <li>Geometry simplification</li>
            <li>Replay (maintain stroke, symbol size, and fonts)</li>
            <li><b>New:</b> world wrapped rendering (3.5)</li>
          </ul>
          <br><br>
          <p>
            <a href="./examples/vector-rendering.html">
              Vector rendering example
            </a>
          </p>

          <!--
            Performance is achieved by simplifying geometries to pixel
            resolutions. For polygons, the topology is preserved. Feature
            geometries are translated into a replay structure, for efficient
            re-rendering during animations and user interaction.

            Vector rendering now also supports world wrapping.
          -->
        </section>

        <section>
          <!-- Tim -->
          <h2>Styled Features (I)</h2>
          <pre><code class="javascript" data-trim>
layer.setStyle(new ol.style.Style({
  fill: new ol.style.Fill({
    color: 'rgba(255, 255, 255, 0.3)'
  }),
  stroke: new ol.style.Stroke({
    color: '#319FD3'
  })
}));
          </code></pre>
        </section>
        <section>
          <!-- Tim -->
          <h2>Styled Features (II)</h2>
          <pre><code class="javascript" data-trim>
layer.setStyle(function(feature, resolution) {
  return [
    new ol.style.({
      image: new ol.style.Icon({
        src: 'http://example.com/icon.png',
        scale: feature.get('magnitude') / 2
      })
    })
  ];
});
          </code></pre>
        </section>
        <section>
          <!-- Tim -->
          <h2>Styled Features (III)</h2>
          <pre><code class="javascript" data-trim>
layer.setStyle(new ol.style.Style({
  image: new ol.style.Circle({
    radius: 5,
    fill: new ol.style.Fill({color: 'orange'})
  }),
  geometry: function(feature) {
    var coordinates = feature.getGeometry()
        .getCoordinates()[0];
    return new ol.geom.MultiPoint(coordinates);
  }
});
          </code></pre>
        </section>
        <section>
          <!-- Tim -->
          <h2>but wait, there's more!</h2>
        </section>
        <section>
          <!-- Tim -->
          <h2>Immediate Rendering</h2>
          <pre><code class="javascript" data-trim>
map.on('postcompose', function(event) {
  var context = event.vectorContext;
  context.setImageStyle(imageStyle);
  context.drawPointGeometry(point);
});
          </code></pre>
          <p>
            <a class="squinty" href="./examples/bike-track.html">bike track</a>
          </p>
        </section>

        <section>
          <!-- Tim -->
          <h2>Raster Operations</h2>
          <pre><code class="javascript" data-trim>
var raster = new ol.source.Raster({
  sources: [imagery, landcover],
  operation: function(pixels, data) {
    // here you can run operations
    // on the input pixels and
    // return new pixel values
  }
});
          </code></pre>
          <p>
            <a class="squinty" href="./examples/flood-fill.html">flood fill</a>
          </p>
        </section>

        <section>
          <!-- Andreas -->
          <h2>API refinements</h2>
          <ul>
            <li>Removal of two way binding (3.5)</li>
            <li>Removal of feature overlay (3.7)</li>
          </ul>
          <!--
            Two-way binding removed because we have change events.
            Removal of feature overlay to make working with vector layers more
            straightforward.
          -->
        </section>

        <section>
          <!-- Andreas -->
          <h2>API refinements</h2>
          <ul>
            <li>Simpler vector sources (3.5)</li>
          </ul>
          <br>
          <small class="fragment fade-in" style="width: 45em;"><pre><code class="javascript" data-trim>
var source = new ol.source.Vector({
  format: new ol.format.GeoJSON(),
  url: function(extent, resolution, proj) {
    return 'featureservice/water.json?bbox=' +
        ol.proj.transformExtent(extent, proj, 'EPSG:4326').join(',');
  },
  strategy: ol.loadingstrategy.tile(ol.tilegrid.createXYZ())
});
          </code></pre></small>
          <small class="fragment fade-in" style="width: 45em;"><pre><code class="javascript" data-trim>
var source = new ol.source.ServerVector({
  format: new ol.format.GeoJSON(),
  loader: function(extent, resolution, proj) {
    var url = 'featureservice/water.json?bbox=' +
        ol.proj.transformExtent(extent, proj, 'EPSG:4326').join(',');
    $.ajax(url).then(function(data) {
      source.addFeatures(source.readFeatures(data, {featureProjection: proj}));
    });
  },
  strategy: ol.loadingstrategy.createTile(new ol.tilegrid.XYZ())
});
</code></pre></small>
          <!--
            Simpler vector sources means: only one vector source, easy configure
            with url and format or with a custom loader. No need to provide the
            view projection any more.
          -->
        </section>

        <section>
          <!-- Andreas -->
          <h2>Upcoming features</h2>
        </section>

        <section>
          <!-- Andreas -->
          <h2>Raster reprojection</h2>
          <ul>
            <li>Effort funded by a Boundless client</li>
            <li>Implemented by KlokanTech</li>
          </ul>
          <br>
          <small class="fragment fade-in" style="width: 45em;"><pre><code class="javascript" data-trim>
var newProj = 'EPSG:4326';
var oldProj = map.getView.getProjection();
map.setView({
  projection: newProj,
  center: ol.proj.transform(map.getView().getCenter(), oldProj, newProj),
  zoom: map.getView().getZoom()
});
</code></pre></small>
          <p class="fragment fade-in">
            <a href="./examples/raster-reprojection.html">
              Raster reprojection example
            </a>
          </p>
          <!--
            Source in any known projection
            View in a different projection
            Reprojection using affine transforms of two triangles
          -->
        </section>

        <section>
          <!-- Andreas -->
          <h2>Vector tiles</h2>
          <ul>
            <li>Effort funded by Boundless clients</li>
            <li>Implemented by Boundless</li>
          </ul>
          <br>
          <small class="fragment fade-in" style="width: 45em;"><pre><code class="javascript" data-trim>
var layer = new ol.layer.VectorTile({
  source: new ol.source.VectorTile({
    format: new ol.format.MVT(),
    tileGrid: ol.tilegrid.createXYZ(),
    tilePixelRatio: 16,
    tileUrlFunction: function(tileCoord) {
      return 'tileservice/' + tileCoord[0] + '/' + tileCoord[1] + '/' +
          (-tileCoord[2] - 1) + '.pbf';
    }
  })
});
</code></pre></small>
          <p class="fragment fade-in">
            <a href="./examples/vector-tiles.html">
              Vector tiles example
            </a>
          </p>
          <!--
            Introduces a new vector tile renderer and a
            Mapbox Vector Tile format parser. Can also render tiles in any
            supported vector format. GeoServer support for Mapbox vector tiles
            is also upcoming.
          -->
        </section>

        <section data-background="#FDCC32">
          <h1>Thanks!</h1>
          <br>
          <p>
            <a href="http://openlayers.org/">
              http://openlayers.org/
            </a>
          </p>
        </section>
      </div>
    </div>

    <!-- reveal.js loading and configuration -->
    <script src="bower_components/reveal.js/lib/js/head.min.js"></script>
    <script src="bower_components/reveal.js/js/reveal.min.js"></script>
    <script>
      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        rollingLinks: false,
        transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [{
          src: 'bower_components/reveal.js/lib/js/classList.js',
          condition: function() {
            return !document.body.classList;
          }
        }, {
          src: 'bower_components/reveal.js/plugin/highlight/highlight.js',
          async: true,
          callback: function() {
            hljs.initHighlightingOnLoad();
          }
        }]
      });

    </script>
  </body>
</html>
